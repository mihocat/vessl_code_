# VESSL 배포 로그 - 2025-07-28

## 배포 정보
- **Run ID**: 369367213157
- **시작 시간**: 2025-07-28 10:55:43
- **종료 시간**: 2025-07-28 11:03:XX
- **상태**: 정상 종료

## 수행된 작업

### 1. 임베딩 모델 변경
- **변경 전**: sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2 (768차원)
- **변경 후**: jinaai/jina-embeddings-v3 (1024차원)
- **수정 파일**: 
  - src/rag_system.py
  - src/app.py
  - requirements.txt (einops 의존성 추가)

### 2. 문서 카테고리 확장
- **기존**: 4개 카테고리 (기초이론, 전기기기, 전력공학, 전기설비)
- **확장**: 21개 카테고리
  - 전기기사/전기산업기사/전기기능사 종목별 분류
  - 전기공사기사/전기안전기술사 등 추가
  - 세부 전문 분야별 분류

### 3. RAG 시스템 개선
- **Q&A 형식 파싱**: EXAMPLE.md의 [Q]/[A] 형식 지원
- **검색 임계값 최적화**: 0.65 → 0.3-0.5 점진적 적용
- **5단계 검색 파이프라인**: 
  - very_high_confidence (0.5)
  - high_confidence (0.45)
  - medium_confidence (0.4)
  - hybrid_search (0.3)
  - web_only (대체)

### 4. 오류 해결
- **BFloat16 텐서 변환**: torch.float32로 자동 변환
- **ChromaDB 차원 불일치**: 컬렉션 재생성으로 해결
- **의존성 문제**: einops>=0.6.0 추가

## 시스템 상태
| 구성요소 | 상태 | 설명 |
|---------|------|------|
| 임베딩 모델 | ✅ | jinaai/jina-embeddings-v3 정상 로드 |
| 문서 벡터화 | ✅ | 6,000개 문서 1024차원 벡터화 완료 |
| ChromaDB | ✅ | electrical_engineering_docs 컬렉션 |
| vLLM 서버 | ✅ | LoRA 어댑터 정상 연결 |
| Gradio UI | ✅ | 포트 7860에서 실행 |

## 검증 결과
- 모든 구성요소 정상 작동
- Q&A 형식 문서 파싱 성공
- 검색 성능 개선 확인

## GitHub 커밋
- 커밋 메시지: "RAG 시스템 대규모 개선: jinaai/jina-embeddings-v3 통합 및 문서 카테고리 확장"
- 변경 파일: 3개 (rag_system.py, app.py, requirements.txt)